GMT进阶之深入理解-K和-O选项
###########################

:date: 2013-07-06 00:39
:author: SeisMan
:category: GMT
:tags: GMT4, GMT5, GMT选项
:slug: gmt-option-ko
:summary: 介绍GMT中K和O选项的用法及其意义。

 ``-K`` 和 ``-O`` 是GMT的两个标准选项，其用法很简单，一张图和一段文字就可以明白一切。但是同时 ``-K`` 和 ``-O`` 选项却是日常GMT绘图中最常出错的地方，很多时候这样的错误很让人摸不着头脑。这里首先简单介绍 ``-K`` 和 ``-O`` 选项，然后试着去探究一下 ``-K`` 和 ``-O`` 选项在代码中代表什么，在下一篇博文中给出使用-K和-O选项的一个技巧。

如GMT Technical Reference and Cookbook中第4.4.6节所说，任意一个完整的PS文件都必须包含头段（初始化），正文（绘图部分），尾巴（输出图像）。

.. figure:: /images/2013070601.jpg
   :width: 700 px
   :alt: -K -O

GMT的每个绘图命令默认都会同时输出头段、正文以及尾巴。如左图所示，如果一张图只需要一个命令就可以画出来，那么就不需要-K和-O选项。如中图所示，如果一张图由两个命令绘制出来，第一个命令需要省略尾巴部分（使用-K），第二个命令需要省略头段部分（使用-O）。更常见的情况如右图所示，一张图由多个命令组成，第一个命令省略尾巴（-K），中间命令省略头段和尾巴（-K -O），最后一个命令省略头段（-O）。另外一个需要注意的地方是重定向符号，第一个命令使用">"，后面所有的命令使用">>"。

研究一下生成的PS文件就可以发现：

- 使用 ``-K`` 选项，省略的尾巴部分内容为::

    %%PageTrailer

    -295.276 -295.276 T 4.16667 4.16667 scale -90 R -595 0 T 0 A
    showpage

    %%Trailer

    end
    %%EOF

- 使用 ``-O`` 选项，省略的头部部分内容如下：

  -  BoundingBox以及HiResBoundingBox
  -  创建时间
  -  landscape还是portrait
  -  总页码
  -  ISOLatin1+支持的特殊符号
  -  所有GMT可用的字体
  -  页面设置


修订历史
========

- 2013-07-06：初稿；
- 2014-07-06：删除了一些细节的描述；
