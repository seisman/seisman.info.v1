GMT进阶之理解-J和-R的共生关系
#############################

:date: 2013-07-15 01:35
:author: SeisMan
:category: GMT
:tags: GMT4, GMT5, GMT选项
:slug: gmt-option-j-and-r
:depends: mathjax

.. contents::

-J和-R是GMT的标准命令行选项中很重要的两个。这里“标准”的意思是“在所有具有该选项的命令中，其含义和用法相同”，而不是“所有命令都有这个选项”。

既然博文名字叫做"GMT进阶"，那么选项的具体用法在这里就不讨论了，这里想要思考的是“这两个选项为什么要同时存在？”的问题。

地图投影
========

根据维基百科中\ `地图投影`_\ 的解释，由于地球是一个不可展的球体，使用物理方法将其展平会引起褶皱、拉伸和断裂，因此要使用数学方法实现由曲面向平面的转化。地图投影，是指按照一定的数学法则将地球椭球面上的经纬网转换到平面上，使地面的地理坐标\ :math:`(\varphi,\lambda)`\ 与平面直角坐标\ :math:`(x,y)`\ 建立起函数关系。

.. figure:: /images/2013071501.jpg
   :alt: 函数关系
   :width: 100px

-R选项
======

-R选项很简单，给出要绘制的地图的范围。 ``-Rxmin/xmax/ymin/ymax`` 。

-J选项
======

-J选项指定投影方式以及地图的尺寸。

J和R结合
========

下面以最简单的笛卡尔坐标系（-JX）为例，谈一谈J和R为什么必须同时指定。

GMT默认的纸张大小为A4纸，也就是大小为210mm*297mm。假定要研究的范围是-R0/10/0/5，那么这个时候(2,2)这个点在什么地方呢？这就需要-J给出的尺寸信息了。假定-JX10c图形的水平方向长度为10cm，那么易知x方向的1个单位在纸上代表的实际距离为1cm。假定以纸张的左下角作为原点（实际上有X_ORIGIN和Y_ORIGIN两个参数控制，这里简化一下），那么很容易知道x方向上，0位于纸张的最左下角，10位于原点右方10cm的地方。如果y方向的尺寸安装比例算，应该是5cm，那么可以知道y的5位于原点上方5cm的地方。当然也可以强制指定y方向的尺寸为10cm，那么y的5则位于原点上方10cm的地方了。这样，就在笛卡尔坐标系中绘制了一个矩形，也就是我们感兴趣的区域。由此，纸张上任意一个点（包括矩形内和矩形外的所有点，甚至包括纸张外的所有点）都对应了一个坐标，同理任意一个坐标都对应了纸张上（或者纸张外）的一个位置。

理解这个有什么意义？
====================

- 纯粹个人兴趣，瞎折腾；
- 想要在某个地方用pstext加个文字，不再盲目地调节xy位置，一眼就可以计算出那个地方的坐标；
- 在一张纸上画多张图的时候，整个参考系是随之移动的，即坐标原点的移动，因而在计算某点坐标时确定原点很重要；
