GMT进阶之文本特效
##################

:date: 2013-10-21 10:55
:author: SeisMan
:category: GMT
:tags: GMT技巧, GMT4
:slug: gmt-text-effect

.. contents::

下面用pstext来展示一下GMT支持的所有文本特效（我能想到的部分）。当然，只要是GMT中的文本，不管是-B选项中的坐标轴名、标题名还是psxy里放在某个坐标上的文本，都可以用同样的方法实现文本特效。

文本特效图
==========

.. figure:: /images/2013102101.jpg
   :align: center
   :alt: text-effect
   :width: 450px

脚本
====

.. code-block:: bash

 #!/bin/bash
 PS=text.ps
 psbasemap -JX4c/-20c -B1/1W -R-1/5/0/20 -K -P > $PS
 pstext -J -B -R -N -O >> $PS << EOF
 0 1 15 0 0 ML abcdefghijklmnopqrstuvwxyz
 0 2 15 0 0 ML 1234567890
 0 3 15 0 0 ML ~!#$%^&*()_-=+[]{}\|;:'",.<>/?
 0 4 15 0 0 ML @@ \100
 0 5 15 0 0 ML \221 \251 \200 \101
 0 6 15 0 12 ML abcdefghijklmnopqrstuvwxyz
 0 7 15 0 12 ML \141\142\143\144\145\147\150\151
 0 8 15 0 34 ML abcdefghijklmnopqrstuvwxyz
 0 9 15 0 34 ML \141\142\143\144\145\147\150\151
 0 10 15 0 0 ML abc@~def@~ghi
 0 11 15 0 0 ML 4@+2@+=16  x@+2@-1
 0 12 15 0 0 ML (x@-1@-,x@-2@-,x@-3@-)
 0 13 15 0 0 ML T@#his@# is a word.
 0 14 15 0 0 ML This is @_important@_.
 0 15 15 0 0 ML abc@%1%def@%2%ghi@%12%jkl@%34%mno@%%pqr
 0 16 15 0 0 ML normal @:5:tiny @:10:small @:20:large @:25:larger @::What size?
 0 17 15 0 0 ML BLACK @;red;RED @;blue;BLUE @;green;GREEN @;;What color?
 0 18 15 0 0 ML ab @!ofxyz @!\161\155
 0 19 15 0 0 ML @E @O @A @C @N @U @s @e @o @a @c @n @u
 EOF

说明
====

第1行：26个英文字母；大小写都可以；

第2行：10个阿拉伯数字；

第3行：键盘上可见的所有符号；（@和\`除外）

第4行：@是GMT中的转义字符，因而可以用@@来输入一个at符号，当然直接使用at符号的八进制码\100；

第5行：倒引号“\`”在bash下具有特殊含义，因而必须使用\221来表示该字符。这里还展示了其他几个用八进制码表示的字符；

第6行：注意，这里选择的是12号字体，此时abcd会被自动转换为相应的希腊字母；

第7行：这里选择的是12号字体，通过使用八进制码的方式生成希腊字母；猜测第六行的原理是先将英文字母转换为八进制，然后根据字体号输入相应的希腊字母；
 
第8行：选择34号字体，生成各种符号；用字母表示；

第9行：选择34号字体，生成各种符号；用八进制表示；

第10行：@~可以临时将字体转换成symbol字体（即12号），因而可以很容易地在一个字符串中同时存在英语字母和希腊字母；

第11行：@+可以打开或关闭上标；不支持上标的上标；上标和下标同时存在的支持不够；

第12行：@-可以打开或关闭下标；不支持下标的下标；

第13行：@#可以打开小型大小字母，THIS中HIS的高度比T高度稍小；
 
第14行：@_产生下划线；

第15行：@%fontno%可以修改接下来字符的字体，@%%使用前一个字体；@%12%与@=功能相同；

第16行：@:size:修改文本大小，这里展示了各种不同的大小，@::的说明中给出的是“上一个字体大小”，但是实际的效果好像是默认字体大小；

第17行：@;color;修改字体颜色，@;;回到默认颜色；

第18行：@!会将接下来的两个字符重叠在一起，比如例子中的o和f就叠在一起了；

第19行：其他一些可以使用@转义的特殊字符；

备注
====

-  在不同的脚本语言中，某些符号可能具有特别的意义，因而无法直接生成，这个时候采用八进制码应该都可以解决问题；
-  不支持上标和下标同时存在；
-  在使用转义字符@之后，pstext命令无法准确计算文本的高度和宽度，导致pstext命令不能给文本加边框；
-  很多用法不支持嵌套；
-  无法稍复杂的公式，比如分数，比如二阶偏导，比如矢量箭头；
